@model DMP.ModelsView.CompetencyProfileViewModel
<div>
    @using (Ajax.BeginForm(new AjaxOptions { OnComplete = "closePopUp()" })) {
 @Html.HiddenFor(x => x.ProfileId)

        <div style="width: 100%">
            <table class="twelve">
                <tbody>
                    @{
        int i = 0;
 }
                    @foreach (var competency in Model.Competencies) {

                        <tr>
                            <td>@Html.Label(competency.Competency)
                            </td>
                            <td>
                                <input type="hidden" name=@string.Format("Competencies[{0}].Id", i) value="@competency.Id" />
                                <input type="hidden" name=@string.Format("Competencies[{0}].ComptencyId", i) value="@competency.ComptencyId" />
                                <input type="text" data-val-range="Competency must be between 0 and 10." class="comp-score" max="10" min="0" name=@string.Format("Competencies[{0}].Score", i) value="@competency.Score"/>
                                /10 <span class="field-validation-valid" data-valmsg-for="@string.Format("Competencies[{0}].Score", i)" data-valmsg-replace="true">
                                </span>
                            </td>
                        </tr>
                    
                        {
                            i++;
                        }
                    }
                    <tr>
                        <td>
                            <br />
                            <br />
                            <b>*Rating on the scale of 1-10</b>
                        </td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan="2" style="text-align: right">
                            <input type="submit" value="Save" class="btn btn-primary" />
                            <input type="reset" value="Clear" class="btn btn-primary" />
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>
        
    }
</div>
<script src = "@Url.Content("~/Scripts/jquery.unobtrusive-ajax.min.js")" type="text/javascript"></script>
<script src = "@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src = "@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<style type="text/css">
    .field-validation-error
    {
        display: block;
        font-size: 80%;
    }
</style>
